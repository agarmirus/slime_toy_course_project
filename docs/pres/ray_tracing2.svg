<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1293px" height="1013px" viewBox="-0.5 -0.5 1293 1013" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-12-04T13:56:05.145Z&quot; agent=&quot;5.0 (X11)&quot; etag=&quot;F2M-XNA75K06ybtZzbk4&quot; version=&quot;20.6.0&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;IybwMY1aBauGHVrHHx7R&quot; name=&quot;Page-1&quot;&gt;7V1bk5u4Ev41rtrzMC4kQMCjPWNnH3Zrk92qsztPW4yNbRIMLmAmnvPrjwBJ6AZmxhjjZFIVB4TQpS+fWt2NMjHv98dPqX/Y/Z6sg2gCjfVxYj5MIITAdfE/RclrVQIMhKqSbRquSVld8Ff4v4BWJKXP4TrIhIp5kkR5eBALV0kcB6tcKPPTNPkuVtskkdjrwd8GSsFfKz9SS/8O1/muKnVtoy7/NQi3O9ozMMiTvU8rk4Js56+T71yRuZiY92mS5NXV/ngfRAX1KF2q95YNT9nA0iDOu7zwtP3n4cX2X9b7u23yJdquv6DFHWnlxY+eyYTJYPNXSoFgjQlCbpM03yXbJPajRV06T5PneB0U3Rj4rq7zW5IccCHAhV+DPH8l3PWf8wQXBccw/4c8Lq4fi/enNrl7OJLmyptX7uZzkIb7IA9SWhavZwWj8W2cxEFVsgzx3Kvnaz/blYMrOsryNPnGOIl5MFfJSGiSJc/pKmihHSFV7qfbIG+pR1SgoCPXAWHSpyDBk0lfcYU0iPw8fBEFzyfyu2X1ahbjC8LlN3AcjYDlNZsfOQHoznKVi5skzklfAHYQistz3fZGxXaoch0TwnsofufGBDPBdeg1/p2XvwtFMlTKY1g7FA/3x22xBEw3UfJ9tfPTfIr5tQ9jP09SRWAayf8SpHlwbKUXeWpRCCYri+NOgVmVfK+BGjik1o4DaVrWO5FdLZFnVklesyRpRfBZWYLKa7e8XhYylfpY9CBeIM3jrKRSfVkwC5Y1bcKa4teamDOuVuoXBLrDfykTq35L5tbVslWAVYJWxA9B+Vs1b3CDnXHlJn1aygi8p+/aQjmZYjmh4tfj5GtJxwW5fvFtNSF63Tj9glCsdYsSgfV9z/XEE3ZBe12QbqTbos6MGwebM2vNFsmEuMrVYPiRHiK8nnM8WHKdzblBQ04aFpScrMSgtzPlFX7OCzJzRtdqNOSak5KaHJCbyVJPYUehD89dafrsrQbOxU3EmHFtMuRhs7Q5Ab7nXmeDYRU4MtQl0vCY8LGp841YChNX/KBnXB9zrkWHNsErEEd5DVOWnCa5ykCpMNUyp+hw/YonkPsMlPbjOMnxApTE/xYV/SjcxrhiFGwwWs4j/ymIPidZWFTAxWmFovNDEsYY3xcvGMAzsob3DvHIESEeGFMDKBBvaxAeGmgK7QuhvKlZS8dsQV3TWgKoo7lkglGZS3TcjfZSqYK10rsixNkiyPBLnaTHjRCqV36jhrG3rWMMIF2hk/ZVTRLqQnNDvDX+TQKFfbhelzJNK8wIiLAHFH4OabIKskwR/6wSRmMKrAKD0hWRTqQVXxmUsDlT7g0YeLGCHkDINEUQgq5xZSsT6M1Mj1+oHjhxQyO24gGQzHgXWFMTefWfKxMbaoBgzB6SXh0cVkfwpkvtSMAbOloFIXawoeVfiWk6CGnEtDTAqOU/lY0Y1CQqp2LPJ/aDlvLtIiZrDfNqkl4mvONQp013xtSFVN+JQpE9cWfKk8Y/F7PhWoZCo3cAii0km02GRUTmHBviGdbWCBTQOEsBW6ytVeRnWbgSDC4wjM6aTt86q5cc5sknomNBY4pMsZVqsOTF/kWI0kReMKW9m7TVPMOMM5eKiKa7ZP/0nL0Nod9vpViopvIQa+f+q/noWJsvKFvOfw8/ob8f//vtzhuB5p61T9JqyDv10lb1Uks0dNWV09ZrClTU4YHbmvC6w7YS/CvM4WcpJqq6Gks7g0toi+WJ2mKbb9EWBb768yyYt64xw3kWqMPgtHFqjco4pePmeIwtyQnnjed9kw7njafeUN7rIHjsS2937XV3qaOwRS3r0EE5hnI8hri6SSo/p62+UW1lybjAomc6wy56Wv5aHzrcXYedjjpsjcs7aOo3mB6/vAHO88Zrq2RozspBZ22xLijamcwKdbm2aSBJY9CK3j4WymEVeZN2KYYj2GRMMaax4Ho4GRuqgi+yB0pxCD75q2/bUuz/eM6jMA4mTRkbF0AS4HYzCNCgSKKRsttyPQ2687WMjhZ271ii3/hahi3IlKuxHBs2vphIZSSfViOupZauJCcqcZosO9b3kNFaH6LW+viiGnGvu3ZLs328hhfvNNy0a28fXj0Hop78eKJMsh3H5f149hjsottGMz1d4ahMIzruH9jXBhwJ2I0xbDs0Ps6PbUf7buL0tmNkuqW6Dqqk8j+5vD91w8Cu+Zwwj2qflCQ4vDNOVicEvFE44yyNL/RDo9oV5bRGGePSKKhfrQZM8+mor9IOvD0zSPQlvCND6GS+q6QHP2VmkAxcDhiBHYDGEC6/FGr1b2bbGuAaxmlwFpftBtwauwPSEJPRLe7XpPGOn8z1KMUw3IYYxqCeR/tHBpGeTR+7a8KNPa4kOVuTRfrB43bWneZx70lV5/G4IZ3jBpYJNfzMfzDEQuE/2WLhuXAqGp3QtKcG90f9PgYge0j78wNWusNK1/A3GhmsqIFJkj4C5+WtwWlz+VHrL2mwiYJVXjqq7tVPUQuYqb6cLK7i6p8VaREa4D+KDP2UO05PClOb8KTyD7v51Dj/B1f+24nx0CMCTuo//RptJPqPRhDKu6HEhM5sRuMKNyB92vytBOCZlPYRgIeIHi7BvoCpbs+NxwNPbBZK2HzBgLyaX1GtuGhbfOFdLeTXiK/KJ3tAmq1ytQ8ZwBjWtbF8yUBR6uJfMrwrFcqxpGii2Z7a5EipUFL9y6Q2URKe9ZnFyQTtlrRvWaEvH+VFUgoZdLwpTaO9ZpTXuXnVHm6/ijrvV8d19hVS96v5n+JRSe87WkZVODWhoj4J54+nr5M+DsMRHWXnH4rTOUR8BdiQd7zWe48HuCCCaMD8A0HageEkgjjjirci1Va+FUf6mfhwa/5w2zgJEIP6w52PLLLO6ECV/jQ6mKNCBzruZn945QTv5v6WDIYPT3gXu8D2xnVskPMjp2P37yKlCn3aE977Ycrv8jIAA0m5f267mwFAs/WFy/gZHI2j/i1+hhLFrm/0I/eaRn9bOqBMWI1TPIrCQ1Yos58dqgPqN+GxoF8j7TQOa4WcjbSDlkg7TEtdPpmloZd1MfephlpjBkNM6vSVe6m4feSf1a+Vd8J7p88q1yLYSdzUUvZtsDk4SpqSc/XqKNlGRFmXgSqjA+sygBIQemogZFBFbjgU9fqUQvKKga5MqStmQfW1g+sFoGBHgKqyaM8FKI2dJn2jgXcKilFQTUL5CL9DY5Y2/ab/U+3aSDs+EwQYUgxuQNhqTdEW9ud1Plrtku+eL9rF8399wxlQRlzGVMa39X9fVIl1/b9AmYv/Aw==&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 591 103.13 L 616.08 103.08 L 641 103.08" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="stroke"/><path d="M 506 138.13 L 506 190" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 473.04 68.13 L 538.96 68.13 C 567.7 68.13 591 83.8 591 103.13 C 591 122.46 567.7 138.13 538.96 138.13 L 473.04 138.13 C 444.3 138.13 421 122.46 421 103.13 C 421 83.8 444.3 68.13 473.04 68.13 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="505.5" y="107.63">Начало</text></g><rect x="641" y="0.01" width="50" height="206.25" fill="none" stroke="none" pointer-events="all"/><path d="M 691 0.01 L 666 0.01 L 666 206.26 L 691 206.26" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 641 103.13 L 666 103.13" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px"><text x="692.5" y="23.63">Функция trace</text><text x="692.5" y="51.63">Вход:</text><text x="692.5" y="65.63">ray - луч</text><text x="692.5" y="79.63">scene - структура, хранящая в себе</text><text x="692.5" y="107.63">информацию об объектах сцены</text><text x="692.5" y="121.63">plot - полотно, на котором выводится</text><text x="692.5" y="135.63">изображение</text><text x="692.5" y="163.63">n - показатель преломления среды</text><text x="692.5" y="177.63">c - количество выпушенных лучей</text></g><path d="M 386 340 L 386.08 360 L 386.08 340.62 L 386.08 360.63" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="301" y="270" width="170" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 325 270 L 325 340 M 447 270 L 447 340" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="384.73" y="295.5">Найти пересечение</text><text x="384.73" y="309.5">луча с объектами</text><text x="384.73" y="323.5">сцены</text></g><path d="M 1173.04 804.37 L 1238.96 804.37 C 1267.7 804.37 1291 820.04 1291 839.37 C 1291 858.7 1267.7 874.37 1238.96 874.37 L 1173.04 874.37 C 1144.3 874.37 1121 858.7 1121 839.37 C 1121 820.04 1144.3 804.37 1173.04 804.37 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1205.5" y="843.87">Конец</text></g><path d="M 471 485.63 L 546.08 485.54 L 546.08 512.39" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 546.08 518.39 L 542.08 510.39 L 546.08 512.39 L 550.08 510.39 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="rgb(255, 255, 255)" stroke="none" x="472" y="465" width="15" height="14" stroke-width="0"/><text x="478.5" y="475.39">да</text></g><path d="M 301 485.63 L 231 485.54 L 231 512.39" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 231 518.39 L 227 510.39 L 231 512.39 L 235 510.39 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 386 450.63 L 471 485.63 L 386 520.63 L 301 485.63 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="385.5" y="490.13">Есть пересечение?</text></g><path d="M 546 591.26 L 546.08 620.62 L 671 620.62 L 671 641.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 671 647.76 L 667 639.76 L 671 641.76 L 675 639.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="461" y="520.63" width="170" height="70.63" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="545.5" y="560.45">Вернуть цвет фона</text></g><path d="M 386 430.63 L 386.08 450.62 L 386.08 430.62 L 386.08 450.66" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="301" y="360.63" width="170" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="385.5" y="393.13">res - результирующий цвет</text><text x="385.5" y="407.13">res = черный</text></g><path d="M 231 590.63 L 231 610.62 L 231 589.54 L 231 609.63" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="151" y="520.63" width="160" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 167 520.63 L 167 590.63 M 295 520.63 L 295 590.63" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="229.73" y="546.13">Добавить к res</text><text x="229.73" y="560.13">интенсивность</text><text x="229.73" y="574.13">рассеянного отражения</text></g><path d="M 316 825.63 L 371 825.54 L 371 950 L 231 950 L 231 962.39" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 231 968.39 L 227 960.39 L 231 962.39 L 235 960.39 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="rgb(255, 255, 255)" stroke="none" x="350" y="787" width="16" height="15" stroke-width="0"/><text x="357.42" y="797.82">да</text></g><path d="M 146 825.63 L 81 825.54 L 81 852.39" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 81 858.39 L 77 850.39 L 81 852.39 L 85 850.39 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 231 790.63 L 316 825.63 L 231 860.63 L 146 825.63 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="230.5" y="830.13">Есть пересечение?</text></g><path d="M 231 680.26 L 231 700.15 L 231 680.62 L 231 700.63" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="146" y="609.63" width="170" height="70.63" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="230.5" y="649.45">shadowRay - теневой луч</text></g><path d="M 231 770.63 L 231 790.62 L 231 770.62 L 231 790.63" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="146" y="700.63" width="170" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 170 700.63 L 170 770.63 M 292 700.63 L 292 770.63" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="229.73" y="726.13">Найти пересечение</text><text x="229.73" y="740.13">теневого луча с</text><text x="229.73" y="754.13">объектами сцены</text></g><path d="M 81 930.63 L 81 950.62 L 231 950.62 L 231 962.39" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 231 968.39 L 227 960.39 L 231 962.39 L 235 960.39 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="1" y="860.63" width="160" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 17 860.63 L 17 930.63 M 145 860.63 L 145 930.63" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="79.73" y="886.13">Добавить к res</text><text x="79.73" y="900.13">интенсивность</text><text x="79.73" y="914.13">диффузного отражения</text></g><path d="M 1036 205.63 L 1036.08 225.54 L 1036.08 205.08 L 1036.08 225" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1036 295 L 1036.08 315.08 L 1036.08 295.08 L 1036.08 315" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="953.5" y="225" width="165" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 970.5 225 L 970.5 295 M 1101.5 225 L 1101.5 295" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1036.27" y="250.5">Добавить к res</text><text x="1036.27" y="264.5">интенсивность</text><text x="1036.27" y="278.5">зеркального отражения</text></g><path d="M 1036 385 L 1036.08 405.08 L 1036.08 384.46 L 1036.08 404.37" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="951" y="315" width="170" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 975 315 L 975 385 M 1097 315 L 1097 385" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1034.73" y="340.5">res += </text><text x="1034.73" y="354.5">trace(reflectRay,</text><text x="1034.73" y="368.5">scene, plot, n, c + 1)</text></g><path d="M 421 225 L 386.08 225.08 L 386.08 261.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 386.08 267.76 L 382.08 259.76 L 386.08 261.76 L 390.08 259.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 591 225 L 716.08 225.08 L 716.08 261.13" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 716.08 267.13 L 712.08 259.13 L 716.08 261.13 L 720.08 259.13 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="rgb(255, 255, 255)" stroke="none" x="628" y="200" width="16" height="15" stroke-width="0"/><text x="635.35" y="211.31">да</text></g><path d="M 506 190 L 591 225 L 506 260 L 421 225 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="505.5" y="229.5">c &gt;= 5?</text></g><path d="M 716 340 L 716.08 620 L 671 620 L 671 641.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 671 647.76 L 667 639.76 L 671 641.76 L 675 639.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="631" y="269.37" width="170" height="70.63" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="715.5" y="309.18">Вернуть черный цвет</text></g><path d="M 1036 475 L 1036.08 495.08 L 1036.08 474.46 L 1036.08 494.37" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="951" y="404.37" width="170" height="70.63" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1035.5" y="430.18">tRay - преломленный луч</text><text x="1035.5" y="444.18">nObj - показатель</text><text x="1035.5" y="458.18">преломления объекта</text></g><path d="M 1036 564.37 L 1036.08 584.46 L 1036.08 564.46 L 1036.08 584.37" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="953.5" y="494.37" width="165" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 970.5 494.37 L 970.5 564.37 M 1101.5 494.37 L 1101.5 564.37" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1036.27" y="519.87">Добавить к res</text><text x="1036.27" y="533.87">интенсивность</text><text x="1036.27" y="547.87">преломления</text></g><path d="M 1036 654.37 L 1036.08 674.46 L 1036.08 654.46 L 1036.08 674.37" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><rect x="951" y="584.37" width="170" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 975 584.37 L 975 654.37 M 1097 584.37 L 1097 654.37" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1034.73" y="609.87">res += trace(tRay,</text><text x="1034.73" y="623.87">scene, plot,</text><text x="1034.73" y="637.87">nObj, c + 1)</text></g><path d="M 1036 745 L 1036.08 770 L 1206.08 770 L 1206.08 796.13" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1206.08 802.13 L 1202.08 794.13 L 1206.08 796.13 L 1210.08 794.13 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="951" y="674.37" width="170" height="70.63" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1035.5" y="714.18">Вернуть res</text></g><ellipse cx="231" cy="990.63" rx="20" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="230.5" y="995.13">А</text></g><path d="M 1271 120 L 1271 770 L 1206.08 770 L 1206.02 796.13" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1206.01 802.13 L 1202.02 794.13 L 1206.02 796.13 L 1210.02 794.14 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="1271" cy="100" rx="20" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1270.5" y="104.5">Б</text></g><ellipse cx="671" cy="670" rx="20" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="670.5" y="674.5">Б</text></g><path d="M 1036 120 L 1036.08 140 L 1036.08 115.08 L 1036.08 135" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="1036" cy="100" rx="20" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1035.5" y="104.5">А</text></g><rect x="951" y="135" width="170" height="70.63" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1035.5" y="174.81">reflectRay - отраженный луч</text></g></g></svg>